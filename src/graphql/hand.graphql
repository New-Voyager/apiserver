scalar DateTime

enum WonAtStatus {
  PREFLOP
  FLOP
  TURN
  RIVER
  SHOW_DOWN
}

enum GameType {
  UNKNOWN
  HOLDEM
  OMAHA
  OMAHA_HILO
}

type HandHistory {
  pageId: Int
  gameId: Int!
  handNum: Int!
  gameType: GameType!
  wonAt: WonAtStatus!
  showDown: Boolean!
  winningCards: String
  winningRank: Int
  loWinningCards: String
  loWinningRank: Int
  timeStarted: DateTime!
  timeEnded: DateTime!
  data: String!
  totalPot: Float!
}

type HandWinners {
  pageId: Int
  gameId: Int!
  handNum: Int!
  isHigh: Boolean!
  winningCards: String
  winningRank: Int
  playerId: Int!
  pot: Float!
}

type StarredHands {
  playerId: Int!
  gameId: Int!
  handNum: Int!
  handHistory: HandHistory!
}

input PageInput {
  prev: Int
  next: Int
  count: Int
}

type Mutation {
  saveStarredHand(
    clubCode: String!
    gameCode: String!
    handNum: String!
  ): String!
}

type Query {
  # To get the last hand history for a given gameId and clubId
  lastHandHistory(clubCode: String!, gameCode: String!): HandHistory!

  # To get specific hand history for a given gameId, clubId and handNum
  specificHandHistory(
    clubCode: String!
    gameCode: String!
    handNum: String!
  ): HandHistory!

  # To get all hand history for a given gameId and clubId
  allHandHistory(
    clubCode: String!
    gameCode: String!
    page: PageInput
  ): [HandHistory!]

  # To get a specific user's last 10 winning hands for a given gameId and clubId
  myWinningHands(
    clubCode: String!
    gameCode: String!
    page: PageInput
  ): [HandWinners!]

  # To get all starred message for a user (default count 25)
  allStarredHands: [StarredHands!]
}
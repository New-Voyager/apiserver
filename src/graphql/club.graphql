scalar DateTime
enum ClubMemberStatus {
  UNKNOWN
  INVITED
  PENDING
  DENIED
  ACTIVE
  LEFT
  KICKEDOUT
}

enum ClubStatus {
  UNKOWN
  ACTIVE
  DEFUNCT
}

input ClubCreateInput {
  name: String!
  description: String!
}

input ClubUpdateInput {
  name: String
  description: String
}

type Mutation {
  createClub(club: ClubCreateInput!): String!
  updateClub(clubCode: String!, club: ClubUpdateInput!): Boolean!
  joinClub(clubCode: String!): ClubMemberStatus
  approveMember(clubCode: String!, playerUuid: String!): ClubMemberStatus
  rejectMember(clubCode: String!, playerUuid: String!): ClubMemberStatus
  kickMember(clubCode: String!, playerUuid: String!): ClubMemberStatus
  deleteClub(clubCode: String!): Boolean!
}

type ClubMember {
  name: String!
  joinedDate: DateTime!
  status: ClubMemberStatus!
  lastGamePlayedDate: String
  imageId: String
  isOwner: Boolean
  isManager: Boolean
  playerId: String
}

type ClubGameInfo {
  title: String
  type: GameType
  pageId: Int!
  gameCode: String!
  startedBy: String
  startedAt: DateTime
  endedBy: String
  endedAt: String
  status: GameStatus
}

input PageInput {
  prev: Int
  next: Int
  count: Int
}

type clubId{
  id: Int!
}

type Query {
  clubMembers(clubCode: String!): [ClubMember!]
  clubById(clubCode: String!): clubId!

  # returns 'last' number of games 'from' in reverse order
  # by default, this call returns only last 20 games
  # the caller can paginate with pageId
  # clubGames(clubCode: "", prev: 20, from: 10000001)
  clubGames(clubCode: String!, page: PageInput): [ClubGameInfo!]
}

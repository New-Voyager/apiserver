#1. Player 1 (arun) registers
#2. Player 2 (arjun) registers
#3. Player 3 (sam) registers
#4. Player 4 (bala) registers
#5. Bala creates a club. 
#6. arun, arjun, sam requests to join the club.
#7. Bala should see the arun, arjun, same and bala are "waiting for approval"
#8. Bala approves arun, arjun and sam requests
#9. All the players in the club (verify using clubMembers API)
#10. Start a new game (Texas Holdem)
#11. arun sits in with 100.00
#12. arjun sits in with 100.00
#13. sam sits in with 100.00

cleanup:
  club:
    - delete:
        name: chennai

setup:
  players:
    - name: arun
      uuid: 1edad270-1926-4634-b89b-9d5a62586d9e
    - name: arjun
      uuid: c3744887-51d7-4ab9-b01b-0ea274577b04
    - name: sam
      uuid: 1d43342c-84bf-4928-b5b4-ece904b66dd0
    - name: bala
      uuid: 8ba53577-1318-4da3-adbd-0796234e405a
  club:
    - create:
        name: chennai
        owner: bala
    - join:
        players:
          - arun
          - arjun
          - sam
    - verify:
        players:
          - name: arun
            status: WAITING_FOR_APPROVAL
          - name: arjun
            status: WAITING_FOR_APPROVAL
          - name: sam
            status: WAITING_FOR_APPROVAL
    - approve:
        owner: bala
        players:
          - arun
          - arjun
          - sam

start-game:
  config:
    title: test1
    gameType: HOLDEM
    smallBlind: 1.0
    bigBlind: 2.0
    utgStraddleAllowed: true
    straddleBet: 4.0
    minPlayers: 2
    maxPlayers: 9
    gameLength: 60
    buyInApproval: false
    rakePercentage: 5.0
    rakeCap: 5.0
    buyInMin: 100
    buyInMax: 300

  buyin:
    -
      playerId: arun.id
      seatNo: 1
      buyChips: 100
    -
      playerId: arjun.id
      seatNo: 2
      buyChips: 100
    -
      playerId: sam.id
      seatNo: 3
      buyChips: 100
    -
      playerId: bala.id
      seatNo: 4
      buyChips: 100

game:
  game1:
    ClubId: chennai.id
    GameNum: test1.id
    hands:
      - HandNum: 1
        Players: [arun.id, arjun.id, sam.id, bala.id]
        GameType: HOLDEM
        StartedAt: 2020-06-30T00:02:10
        PREFLOP:
          actions:
            - 
              player: arun.id
              action: SB
              amount: 1.0
              balance: 99.0
            - 
              player: arjun.id
              action: BB
              amount: 2.0
              balance: 98.0
            -
              player: sam.id
              action: FOLD
              balance: 100.0
            -
              player: bala.id
              action: FOLD
              balance: 100.0
            -
              player: arun.id
              action: FOLD
              balance: 99.0
        Result:
          pot_winners:
            -
              pot: 0
              amount: 3.0
              winner:
                player: arjun.id
                received: 3.0
          won_at: FLOP
          summary:
            -
              player: arun.id
              balance: 99.0
              change: -1.0
            - 
              player: arjun.id
              balance: 101.0
              change: 1.0
            - 
              player: sam.id
              balance: 100.0
              change: 0.0
            -
              player: bala.id
              balance: 100.0
              change: 0.0
